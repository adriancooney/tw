#!/usr/bin/env babel-node --

import Path from "path";
import Promise from "bluebird";
import fs from "fs";
import TeamworkCLI, { CLIError } from "../src/TeamworkCLI";

TeamworkCLI.command(() => {
    return Promise.try(() => {
        var configPath = TeamworkCLI.getConfigPath();
        fs.unlinkSync(configPath);
        TeamworkCLI.log(`Removed ${TeamworkCLI.color.red(configPath)}`);
    }).catch(() => {
        throw new CLIError("No config files to remove.");
    });
});